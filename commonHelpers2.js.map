{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nform.addEventListener('input', toFillLocalStorage);\nform.addEventListener('submit', toClearLocalStorage);\n\nconst { email, message } = loadFromLS(localStorageKey) || {};\nform.elements.message.value = message || '';\nform.elements.email.value = email || '';\n\nfunction saveToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction loadFromLS(key) {\n  const loadedStr = localStorage.getItem(key);\n\n  try {\n    const savedObject = JSON.parse(loadedStr);\n    return savedObject;\n  } catch {\n    return loadedStr;\n  }\n}\n\nfunction toFillLocalStorage() {\n  const userEmail = form.elements.email.value;\n  const userMessage = form.elements.message.value;\n\n  const formValues = {\n    email: userEmail.trim(),\n    message: userMessage.trim(),\n  };\n\n  saveToLS(localStorageKey, formValues);\n}\n\nfunction toClearLocalStorage(e) {\n  e.preventDefault();\n\n  const { email, message } = loadFromLS(localStorageKey) || {};\n  if (message && email) {\n    console.log({ email, message });\n\n    localStorage.removeItem(localStorageKey);\n    form.reset();\n  }\n}\n\nconst input = document.querySelector('input');\ninput.addEventListener('focus', () => {\n  input.placeholder = 'Type area';\n});\n\ninput.addEventListener('blur', () => {\n  input.placeholder = '';\n});\n"],"names":["form","localStorageKey","toFillLocalStorage","toClearLocalStorage","email","message","loadFromLS","saveToLS","key","value","loadedStr","userEmail","userMessage","formValues","e","input"],"mappings":"wFAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBACxBD,EAAK,iBAAiB,QAASE,CAAkB,EACjDF,EAAK,iBAAiB,SAAUG,CAAmB,EAEnD,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGC,EAAWL,CAAe,GAAK,CAAA,EAC1DD,EAAK,SAAS,QAAQ,MAAQK,GAAW,GACzCL,EAAK,SAAS,MAAM,MAAQI,GAAS,GAErC,SAASG,EAASC,EAAKC,EAAO,CAC5B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEA,SAASH,EAAWE,EAAK,CACvB,MAAME,EAAY,aAAa,QAAQF,CAAG,EAE1C,GAAI,CAEF,OADoB,KAAK,MAAME,CAAS,CAE5C,MAAI,CACA,OAAOA,CACR,CACH,CAEA,SAASR,GAAqB,CAC5B,MAAMS,EAAYX,EAAK,SAAS,MAAM,MAChCY,EAAcZ,EAAK,SAAS,QAAQ,MAEpCa,EAAa,CACjB,MAAOF,EAAU,KAAM,EACvB,QAASC,EAAY,KAAM,CAC/B,EAEEL,EAASN,EAAiBY,CAAU,CACtC,CAEA,SAASV,EAAoBW,EAAG,CAC9BA,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAAV,EAAO,QAAAC,CAAO,EAAKC,EAAWL,CAAe,GAAK,GACtDI,GAAWD,IACb,QAAQ,IAAI,CAAE,MAAAA,EAAO,QAAAC,CAAS,CAAA,EAE9B,aAAa,WAAWJ,CAAe,EACvCD,EAAK,MAAK,EAEd,CAEA,MAAMe,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,iBAAiB,QAAS,IAAM,CACpCA,EAAM,YAAc,WACtB,CAAC,EAEDA,EAAM,iBAAiB,OAAQ,IAAM,CACnCA,EAAM,YAAc,EACtB,CAAC"}